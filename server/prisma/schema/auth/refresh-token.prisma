// Refresh token model for JWT authentication

model RefreshToken {
  id            String   @id @default(uuid())
  token         String   @unique @default(uuid())
  userId        String   @map("user_id")
  isRevoked     Boolean  @default(false) @map("is_revoked")
  expiresAt     DateTime @map("expires_at")
  createdAt     DateTime @default(now()) @map("created_at")

  // Soft delete
  deletedAt     DateTime? @map("deleted_at")
  isDeleted     Boolean   @default(false) @map("is_deleted")

  // Relations
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([token])
  @@index([expiresAt])
  @@index([isDeleted])
  @@map("refresh_tokens")
}